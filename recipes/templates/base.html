{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
   
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rethink+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link href="{% static 'css/base.css' %}" rel="stylesheet">
    <link href="{% static 'css/navbar.css' %}" rel="stylesheet">
    <link href="{% static 'css/auth.css' %}" rel="stylesheet">
    <link href="{% static 'css/app.css' %}" rel="stylesheet">
    <link href="{% static 'css/post.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <title>Recipi</title>

    <!-- Global scaling + hero typography -->
    <style>
      /* Make everything a bit larger */
      html {
        font-size: 18px;
      }
    
      @media (min-width: 1400px) {
        html {
          font-size: 20px;
        }
      }
    
      body {
        font-size: 1.125rem;
      }
    
      /* Hero typography scales with viewport width */
      .hero-title {
        font-size: clamp(2.8rem, 4.4vw, 4.2rem);
        line-height: 1.05;
      }
    
      .hero-lead {
        font-size: clamp(1.2rem, 1.8vw, 1.6rem);
        max-width: 40rem;
        line-height: 1.25;
      }
    </style>
       
  </head>

  <script>
      document.addEventListener('DOMContentLoaded', function () {
      const nav = document.querySelector('.navbar-squarespace');
      const isAuth = document.body.classList.contains('auth-body');
      const prefersDark = window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)');

      function applyThemeFromSystem() {
        document.body.dataset.theme = prefersDark && prefersDark.matches ? 'dark' : 'light';
      }

      // Only toggle solid navbar on NON-auth pages
      if (nav && !isAuth) {
        function toggleNavSolid() {
          if (window.scrollY > 40) {
            nav.classList.add('navbar-solid');
          } else {
          nav.classList.remove('navbar-solid');
          }
        }
        toggleNavSolid();
        window.addEventListener('scroll', toggleNavSolid);
      }

      // Sync a data-theme attribute so CSS can force dark when needed
      applyThemeFromSystem();
      if (prefersDark) {
        prefersDark.addEventListener('change', applyThemeFromSystem);
      }

      // Fallback: keep the navbar collapse working even if Bootstrap JS fails
      if (!window.bootstrap || !window.bootstrap.Collapse) {
        document.querySelectorAll('.navbar-toggler[data-bs-target]').forEach(function (btn) {
          btn.addEventListener('click', function () {
            const targetSelector = btn.getAttribute('data-bs-target');
            if (!targetSelector) return;
            const target = document.querySelector(targetSelector);
            if (!target) return;
            target.classList.toggle('show');
          });
        });
      }

      // Fallback: open dropdown menus (e.g., account arrow) if Bootstrap JS is missing
      if (!window.bootstrap || !window.bootstrap.Dropdown) {
        document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(function (toggle) {
          const menu = toggle.nextElementSibling;
          if (!menu || !menu.classList.contains('dropdown-menu')) return;

          toggle.addEventListener('click', function (event) {
            event.preventDefault();
            menu.classList.toggle('show');
          });

          document.addEventListener('click', function (event) {
            if (!toggle.closest('.dropdown')) return;
            if (!toggle.closest('.dropdown').contains(event.target)) {
              menu.classList.remove('show');
            }
          });
        });
      }

      // Auth forms: move label text into placeholder
      document.querySelectorAll('.auth-card form').forEach(function (form) {
        form.querySelectorAll('label').forEach(function (label) {
          const id = label.getAttribute('for');
          if (!id) return;
          const input = form.querySelector('#' + id);
          if (!input) return;
          if (!input.placeholder) {
            input.placeholder = label.textContent.trim();
          }
          label.style.display = 'none';
        });
      });
    });
  </script>
  
  
  
  <body class="{% block body_class %}{% endblock %}">
    {% block body %}
    {% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.min.js" integrity="sha384-PsUw7Xwds7x08Ew3exXhqzbhE+IOYy5n3zVb9r9l6U8Bh3sl0Nv1B2TR9O/V9K6" crossorigin="anonymous"></script>
  </body>
</html>
