{% if messages %}
<div
  class="toast-container position-fixed start-50 translate-middle-x p-3 app-toast-container"
>
  {% for message in messages %}
    <div class="toast border-0 shadow-sm fade show mb-2 app-toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-body text-center app-toast-body">
        {{ message }}
      </div>
    </div>
  {% endfor %}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var toastElList = [].slice.call(document.querySelectorAll('.toast'));
    toastElList.forEach(function (toastEl) {
      var duration = 2000;
      var toast = window.bootstrap && window.bootstrap.Toast
        ? new bootstrap.Toast(toastEl, { delay: duration, autohide: true })
        : null;

      if (toast) {
        toast.show();
      } else {
        toastEl.classList.add('show');
      }

      setTimeout(function () {
        if (toast && toast.hide) {
          toast.hide();
        } else {
          toastEl.classList.remove('show');
          toastEl.classList.add('hide');
        }
      }, duration);
    });
  });
</script>
{% endif %}
