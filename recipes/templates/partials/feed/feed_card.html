{# Single feed card used in masonry grids #}
{% with image_url=post.primary_image_url|default:post.image|default:"https://placehold.co/800x1000/0f0f14/ffffff?text=Recipe" %}
<article
  class="my-recipe-card"
  onclick="window.location.href='{% url 'recipe_detail' post.id %}'"
>
  <div class="my-recipe-thumb" aria-hidden="true">
    <img
      src="{{ image_url }}"
      alt="{{ post.title }}"
      class="my-recipe-thumb-img"
      loading="lazy"
    />
  </div>
  <h2 class="my-recipe-title">
    <a href="{% url 'recipe_detail' post.id %}">
      {{ post.title }}
    </a>
  </h2>

  {% if post.category %}
    <p class="my-recipe-category">
      {{ post.category|title }}
    </p>
  {% endif %}

  {% if post.description %}
    <p class="my-recipe-description">
      {{ post.description|truncatewords:18 }}
    </p>
  {% endif %}

  <p class="my-recipe-meta mb-0">
    <span>Prep: {{ post.prep_time_min }} min</span>
    <span>Cook: {{ post.cook_time_min }} min</span>
  </p>
</article>
{% endwith %}
