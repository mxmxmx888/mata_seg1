{# recipes/templates/partials/recipe_grid.html #}
{% if posts %}
  <div class="my-recipes-grid">
    {% for post in posts %}
      <article class="my-recipe-card">
        <h2 class="my-recipe-title">
          <a href="{% url 'recipe_detail' post.id %}">
            {{ post.title }}
          </a>
        </h2>

        {% if post.description %}
          <p class="my-recipe-description">
            {{ post.description|truncatewords:18 }}
          </p>
        {% endif %}

        <p class="my-recipe-meta mb-0">
          <span>Prep: {{ post.prep_time_min }} min</span>
          <span>Cook: {{ post.cook_time_min }} min</span>
        </p>

        <div class="my-recipe-actions">
          <a href="{% url 'recipe_detail' post.id %}" class="btn btn-sm btn-outline-light rounded-pill px-3">
            View
          </a>
          {% if request.user.is_authenticated and request.user == post.author %}
            <form method="post" action="{% url 'recipe_delete' post.id %}">
              {% csrf_token %}
              <button type="submit" class="btn btn-sm btn-outline-danger rounded-pill px-3">
                Delete
              </button>
            </form>
          {% endif %}
        </div>
      </article>
    {% endfor %}
  </div>
{% else %}
  <p class="text-muted mt-3">You havenâ€™t created any recipes yet.</p>
{% endif %}

