{# recipes/templates/partials/recipe_grid.html #}
{% if posts %}
  <div class="my-recipes-grid">
    {% for post in posts %}
      <article
        class="my-recipe-card"
        onclick="window.location.href='{% url 'recipe_detail' post.id %}'"
      >
        <h2 class="my-recipe-title">
          <a href="{% url 'recipe_detail' post.id %}">
            {{ post.title }}
          </a>
        </h2>

        {% if post.description %}
          <p class="my-recipe-description">
            {{ post.description|truncatewords:18 }}
          </p>
        {% endif %}

        <p class="my-recipe-meta mb-0">
          <span>Prep: {{ post.prep_time_min }} min</span>
          <span>Cook: {{ post.cook_time_min }} min</span>
        </p>

        {% if request.user.is_authenticated and request.user == post.author %}
          <div class="my-recipe-actions">
            <form
              method="post"
              action="{% url 'delete_my_recipe' post.id %}"
              onclick="event.stopPropagation()"
            >
              {% csrf_token %}
              <button type="submit" class="btn btn-sm btn-outline-danger rounded-pill px-3">
                Delete
              </button>
            </form>
          </div>
        {% endif %}
      </article>
    {% endfor %}
  </div>
{% else %}
  <p class="text-muted mt-3">You havenâ€™t created any recipes yet.</p>
{% endif %}
