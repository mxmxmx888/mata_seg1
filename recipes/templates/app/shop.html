{% extends "base/base_app.html" %}
{% load static %}

{% block body_class %}shop-body{% endblock %}

{% block content %}

<main class="shop-shell container">
  {% if items %}
    <div
      class="shop-masonry"
      id="shop-items-container"
      data-page="{{ page_obj.number }}"
      data-seed="{{ seed }}"
      data-has-next="{{ page_obj.has_next|yesno:'true,false' }}"
    >
      {% include 'partials/shop/shop_items.html' with items=items %}
    </div>
    <div id="shop-loading" class="shop-loading d-none">
      <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
      Loading more itemsâ€¦
    </div>
    <div id="shop-sentinel" aria-hidden="true"></div>
  {% else %}
    <div class="shop-empty text-center py-5" id="shop-items-container">
      <div class="mb-3 text-muted display-5"><i class="bi bi-bag"></i></div>
      <h3 class="mb-2">Nothing in the shop yet</h3>
      <p class="text-muted mb-4">Add items with shop links to your recipes to see them here.</p>
      <a href="{% url 'recipe_create' %}" class="btn btn-dark rounded-pill px-4">Create a Recipe</a>
    </div>
  {% endif %}
</main>

<script src="{% static 'js/shop.js' %}"></script>
{% endblock %}
